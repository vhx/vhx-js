{"version":3,"file":"index.js","sources":["../lib/config.js","../lib/utils.js","../lib/urlHelpers.js","../lib/resource.js","../lib/resources/collections.js","../lib/resources/videos.js","../lib/resources/customers.js","../lib/resources/browse.js","../lib/resources/products.js","../lib/resources/analytics.js","../lib/resources/subscriptions.js","../lib/vhx.js"],"sourcesContent":["const ApiConfig = {\n  HOST: 'api.vhx.tv',\n  PROTOCOL: 'https://',\n  TIMEOUT: '30000',\n  NODE: process.env.NODE_BUILD,\n  TOKEN_EXPIRES_IN: '1800000'\n};\n\nexport default ApiConfig;\n","export function getMethod(params) {\n  return isObject(params) && params.method ?\n          params.method :\n          params;\n}\n\nexport function isHref(params) {\n  return params && isNaN(parseInt(params, 10));\n}\n\nexport function isObject(obj) {\n  const type = typeof obj;\n  return type === 'function' || type === 'object' && !!obj;\n}\n\nexport function isFunction(obj) {\n  return obj && !!(obj && obj.constructor && obj.call && obj.apply);\n}","import {\n  isHref,\n  isFunction,\n  isObject,\n} from './utils';\n\nexport function generateUrl(params, resource, options) {\n  if (resource.path === 'products') {\n    return createUrlWithCustomEndpoints(params, resource, options);\n  }\n\n  if (resource.path === 'videos') {\n    return createUrlWithCustomEndpoints(params, resource, options);\n  }\n\n  if (resource.path === 'collections') {\n    return createUrlWithCustomEndpoints(params, resource, options);\n  }\n\n  if (resource.path === 'customers') {\n    return createUrlWithCustomEndpoints(params, resource, options);\n  }\n\n  if (resource.path === 'browse') {\n    return handleBrowseEndpoint(params, resource);\n  }\n\n  return returnDefaultHref(resource);\n};\n\nconst handleBrowseEndpoint = (params, resource) => {\n\n  if (isObject(params)) {\n    return `${resource._api.protocol}${resource._api.host}/${resource.path}`;\n  }\n\n  return `${resource._api.protocol}${resource._api.host}/${resource.path}?product=${params}`;\n};\n\nconst createUrlWithCustomEndpoints = (params, resource, options) => {\n  if (options && options.scope && options.scope !== 'items') {\n    if (params && isHref(params)) {\n      return `${params}/${options.scope}`;\n    }\n\n    return `${resource._api.protocol}${resource._api.host}/${resource.path}/${params}/${options.scope}`;\n  }\n\n  if (options && options.scope && options.scope === 'items') {\n    if (params && isHref(params)) {\n      return params;\n    }\n\n    return `${resource._api.protocol}${resource._api.host}/${resource.path}/${params}/${options.scope}`;\n  }\n\n  if (params && isHref(params) && !isFunction(params) && !isObject(params)) {\n    return params;\n  }\n\n  if (params && !isFunction(params) && !isObject(params)) {\n    return `${resource._api.protocol}${resource._api.host}/${resource.path}/${params}`;\n  }\n\n  return returnDefaultHref(resource);\n}\n\nconst returnDefaultHref = (resource) => {\n  return `${resource._api.protocol}${resource._api.host}/${resource.path}`;\n}\n\n\n\n","import { generateUrl } from './urlHelpers';\nimport {\n  getMethod,\n  isObject,\n  isFunction,\n} from './utils';\n\nclass Resource {\n  constructor(api, path, methods, isToken) {\n    this._api    = api;\n    this.methods = methods;\n    this.path    = path;\n\n    this.init();\n  }\n\n  init() {\n    this.methods.forEach((item) => {\n      const method = getMethod(item);\n      const params = {\n        http_method: 'get', // superagent reads 'get' not 'GET'\n        client_method: method\n      };\n\n      if (method.match(/update|addItem|addProduct/)) {\n        params.http_method = 'put';\n      }\n\n      if (method.match(/create/)) {\n        params.http_method = 'post';\n      }\n\n      if (method.match(/removeItem|removeProduct|delete/)) {\n        params.http_method = 'delete';\n      }\n\n      if (method.match(/files|items|watching|watchlist/)) {\n        params.scope = item;\n      }\n\n      if (method.match(/addItem|removeItem/)) {\n        params.scope = 'items';\n      }\n\n      this[method] = (identifier, options) => {\n        params.url = generateUrl(identifier, this, params);\n\n        /**\n         * The param types being passed into the client library can vary based on the endpoint.\n         * For example, the products/all endpoint, can take an optional object as it's first param:\n         * vhx.products.all({per_page: 10})\n         *\n         * But we also want to make sure we can handle other product endpoints such as:\n         * vhx.products.retrieve(14440);\n         *\n         * or\n         *\n         * vhx.products.retrieve(14440, { per_page: 10 });\n         *\n         * We need to check if the initial param is an object or not, so that we can place\n         * it into the correct params variable.\n        **/\n        if (isObject(identifier)) {\n          params.options = identifier;\n        } else {\n          params.options = options;\n        }\n\n        return this.createRequestParams(params);\n      };\n    });\n  }\n\n  getParams(client_method, url, options, scope, type) {\n    const params = {\n      timeout : this._api.timeout,\n      method  : client_method,\n      url     : url,\n    };\n\n    if (isObject(options)) {\n      params.qs = options || null;\n    }\n\n    if (this._api.auth) {\n      params.headers = {\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': this._api.auth\n      };\n    }\n\n    if (this._api.internal) {\n      params.headers = {\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + this._api.token\n      }\n    }\n\n    return params;\n  }\n\n  createRequestParams(args) {\n    const params = this.getParams(args.client_method, args.url, args.options, args.scope, args.read_only);\n\n    return this.fetchRequest(args, params);\n  }\n\n  fetchRequest(args, params) {\n    let url = new URL(params.url);\n\n    if (args.options) {\n      Object.keys(args.options).forEach(key => {\n        if (args.options[key]) {\n          url.searchParams.append(key, args.options[key])\n        }\n      });\n    }\n\n    return fetch(url.href, {\n      method: args.http_method,\n      headers: params.headers,\n      credentials: 'include',\n    })\n    .then(res => {\n      if (res.ok) {\n        if (res.status === 204) {\n          return {};\n        }\n\n        return res.json();\n      }\n\n      return Promise.reject({ status: res.status, statusText: res.statusText });\n    });\n  }\n};\n\nexport default Resource;\n","import Resource from '../resource';\n\nclass Collection extends Resource {\n  constructor(api) {\n    super(\n      api,\n      'collections',\n      process.env.NODE_BUILD ?\n        [ 'all', 'retrieve', 'items', 'update', 'create', 'addItem', 'removeItem' ] :\n        [ 'all', 'retrieve', 'items' ]\n    );\n  }\n};\n\nexport default Collection;\n","import Resource from '../resource';\n\nclass Video extends Resource {\n  constructor(api) {\n    super(\n      api,\n      'videos',\n      process.env.NODE_BUILD ?\n        ['all', 'retrieve', 'files', 'create', 'update'] :\n        ['all', 'retrieve', 'files']\n    );\n  }\n};\n\nexport default Video;\n","import Resource from '../resource';\n\nclass Customer extends Resource {\n  constructor(api) {\n    super(\n      api,\n      'customers',\n      process.env.NODE_BUILD ?\n        ['retrieve', 'all', 'watching', 'watchlist', 'addProduct', 'removeProduct', 'update' ] :\n        ['retrieve', 'all', 'watching', 'watchlist']\n    );\n  }\n};\n\nexport default Customer;\n","import Resource from '../resource';\n\nclass Browse extends Resource {\n  constructor(api) {\n    super(api, 'browse', ['list']);\n  }\n};\n\nexport default Browse;\n","import Resource from '../resource';\n\nclass Product extends Resource {\n  constructor(api) {\n    super(api, 'products', ['retrieve', 'all', 'create', 'update', 'delete']);\n  }\n};\n\nexport default Product;\n","import Resource from '../resource';\n\nclass Analytics extends Resource {\n  constructor(api) {\n    super(api, 'analytics', ['retrieve']);\n  }\n};\n\nexport default Analytics;\n","import Resource from '../resource';\n\nclass Subscription extends Resource {\n  constructor(api) {\n    super(api, 'subscriptions', ['create']);\n  }\n};\n\nexport default Subscription;\n","import ApiConfig from './config';\nimport Collection from './resources/collections';\nimport Video from './resources/videos';\nimport Customer from './resources/customers';\nimport Browse from './resources/browse';\nimport Product from './resources/products';\nimport Analytics from './resources/analytics';\nimport Subscription from './resources/subscriptions';\n\nconst resources = {\n  products    : Product,\n  browse      : Browse,\n  videos      : Video,\n  collections : Collection,\n  customers   : Customer,\n  analytics   : Analytics,\n  subscriptions: Subscription,\n};\n\nif (typeof btoa === 'undefined') {\n  global.btoa = function(str) {\n    return new Buffer(str).toString('base64');\n  }\n}\n\nclass VhxApi {\n  constructor(key, opts={}) {\n    this.api = opts.internal ? this.setToken(key, opts) : this.setApi(key, opts);\n\n    this.prepareResources();\n  }\n\n  setApi(key, opts = {}) {\n    return {\n      auth: 'Basic ' + btoa(key),\n      host: opts.host || ApiConfig.HOST,\n      protocol: opts.protocol || ApiConfig.PROTOCOL,\n      timeout: ApiConfig.TIMEOUT,\n      token_expiration: null\n    };\n  }\n\n  setToken(key, opts = {}) {\n    return {\n      token: key,\n      host: opts.host || ApiConfig.HOST,\n      protocol: opts.protocol || ApiConfig.PROTOCOL,\n      timeout: opts.timeout || ApiConfig.TIMEOUT,\n      token_expiration: opts.TOKEN_EXPIRES_IN || ApiConfig.TOKEN_EXPIRES_IN,\n      internal: true\n    };\n  }\n\n  prepareResources() {\n    for (const name in resources) {\n      this[name[0].toLowerCase() + name.substring(1)] = new resources[name](this.api);\n    }\n  }\n}\n\nexport default VhxApi;\n"],"names":["const","this","super"],"mappings":"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"}